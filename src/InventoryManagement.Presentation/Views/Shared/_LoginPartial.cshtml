@using ExampleProject.Core.Entities
@using Microsoft.AspNetCore.Identity
@inject SignInManager<Employee> SignInManager
@inject UserManager<Employee> UserManager


<li class="dropdown user user-menu">
    @if (SignInManager.IsSignedIn(User))
    {
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <img src="~/@UserManager.GetUserAsync(User).Result.Image" class="user-image" alt="User Image">
            <span class="hidden-xs">@User.Identity?.Name</span>
    </a>
    
    <ul class="dropdown-menu">
        <!-- User image -->
        <li class="user-header">
                @* <img src="~/dist/img/user2-160x160.jpg" class="img-circle" alt="User Image"> *@
                <img src="~/@UserManager.GetUserAsync(User).Result.Image" class="img-circle" alt="User Image">
            <p>
                    @UserManager.GetUserAsync(User).Result.EmployeeName - Web Developer
                <small>Member since Nov. 2012</small>
            </p>
        </li>
        <!-- Menu Body -->
        <!-- Menu Footer-->
        <li class="user-footer">
            <div class="pull-left">
                    <a asp-controller="Home" asp-action="Edit" asp-route-Id="@UserManager.GetUserAsync(User).Result.Id" class="btn btn-default btn-flat">Profile</a>
            </div>
            <div class="pull-right">
                <form id="logoutForm" asp-area="" asp-controller="Account" asp-action="Logout" method="post" class="form-inline">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="btn btn-default btn-flat">Sign out</button>
                </form>
            </div>
        </li>
    </ul>
    }
</li>